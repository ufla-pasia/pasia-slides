---
title: Lendo C√≥digo Python
subtitle: PASIA - Aula T.3
---

##  

O conte√∫do dessa aula √© baseado nos **cap√≠tulo 4 e 5** do livro abaixo.

![](imagens/livro_potter_zingaro.png){fig-align="center" fig-alt="Capa do livro de Potter e Zingaro." style="max-height: 50vh; width: auto;"}

## Ler C√≥digo

[Ler c√≥digo]{.alert} significa [entender]{.alert} o que o c√≥digo faz ao examin√°-lo.

. . . 

Existem **dois n√≠veis de entendimento**:

- _Tracing description_: entender o que **cada linha de c√≥digo faz**.
- Entender o **objetivo geral** de um c√≥digo (fun√ß√£o, classe, etc.).

## Ler C√≥digo

O **1¬∫ n√≠vel** (_tracing description_) depende do conhecimento de estruturas e linguagem de programa√ß√£o.

. . .

J√° o **2¬∫ n√≠vel** (_objetivo geral_) √© geralmente o que esperamos encontrar na docstring de uma fun√ß√£o.

- E depende do entendimento de 1¬∫ n√≠vel.

## Por que √© importante a habilidade de ler c√≥digo?

**Ajuda a determinar se o c√≥digo est√° correto**:

- N√≥s usaremos testes para validar c√≥digo.
- Mas podemos ganhar tempo se conseguirmos identificar erros mais √≥bvios no c√≥digo, antes de gastar tempo escrevendo c√≥digo de teste.

. . .

**Para ter mais informa√ß√µes para os testes**:

- Entender o c√≥digo nos ajuda a identificar melhor os casos de testes que precisamos criar para validar a implementa√ß√£o.

## Por que √© importante a habilidade de ler c√≥digo?

**Para ajudar a escrever c√≥digo**:

- Por que escrever c√≥digo se vamos usar o Copilot?
- √Äs vezes √© mais r√°pido alterarmos n√≥s mesmos o c√≥digo, do que ficar mudando prompt at√© obter o c√≥digo correto.
- E, por fim, h√° evid√™ncia cient√≠fica de que conseguir explicar c√≥digo linha a linha √© pr√©-requisito para conseguir escrever c√≥digo.

##

A ideia aqui n√£o √© entender cada detalhe de cada linha do c√≥digo.

- E sim aprender a como usar o Copilot para chegar num meio termo entre:
  - _‚ÄúEsse c√≥digo faz m√°gica‚Äù_ 
  - e _‚ÄúEu sei exatamente como cada linha de c√≥digo funciona‚Äù_.

##

Nas aulas anteriores escremos prompt para que o Copilot explicasse um trecho de c√≥digo pra gente.
 
- Mas o Copilot tamb√©m tem **comandos espec√≠ficos** al√©m de texto livre.

. . .

Podemos usar o comando `/explain` por exemplo.

- Selecionamos a fun√ß√£o (ou trecho de c√≥digo) que queremos entender e acessamos com o bot√£o direito do mouse **a op√ß√£o Copilot -> Explain** 
  - ou **digitamos `/explain` no chat** (seja com <kbd>Ctrl</kbd> + <kbd>I</kbd> ou no chat).

##

::: {.callout-tip}
Podemos complementar o comando `/explain` com mais detalhes.

Isso √© especialmente √∫til para fazermos com que o Copilot entenda que queremos as explica√ß√µes em portugu√™s.
:::


##

Vamos usar como exemplo a fun√ß√£o `melhor_palavra`.

```python
def melhor_palavra(palavras):
    """
    palavras √© uma lista de palavras.

    Retorna a palavra com a maior pontua√ß√£o.
    """
    melhor = palavras[0]
    max_pontos = numero_de_pontos(melhor)

    for palavra in palavras[1:]:
        pontos = numero_de_pontos(palavra)
        if pontos > max_pontos:
            melhor = palavra
            max_pontos = pontos

    return melhor
```

##

Primeira parte da explica√ß√£o:

<div style="overflow:auto; text-align:center;">
  <img src="imagens/copilot_explicacao_melhor_palavra_part1.png" alt="Primeira parte da explica√ß√£o do Copilot sobre a fun√ß√£o melhor_palavra." style="width:auto; max-width:100%;">
</div>

##

<div style="overflow:auto; text-align:center;">
  <img src="imagens/copilot_explicacao_melhor_palavra_part2.png" alt="Segunda parte da explica√ß√£o do Copilot sobre a fun√ß√£o melhor_palavra." style="width:auto; max-width:100%;">
</div>

##

Veja que, na explica√ß√£o, o Copilot j√° destacou pontos de d√∫vidas e sugeriu melhoria.

- Nem sempre ele faz isso. Demos sorte nessa vez. üòÉ

. . .

Se uma fun√ß√£o tiver um c√≥digo com o qual n√£o temos familiaridade,
podemos pedir uma **explica√ß√£o linha a linha**.

- Usando `\explain linha a linha`, por exemplo.

##

<div style="overflow-y:auto; max-height:60vh; width:100%; text-align:center;">
  <img src="imagens/copilot_explicacao_melhor_palavra_linha_a_linha.png" alt="Explica√ß√£o do Copilot linha a linha sobre a fun√ß√£o melhor_palavra." style="width:100%; height:auto;">
</div>

##

Como professor √© incr√≠vel que agora os alunos tenham com quem **tirar d√∫vidas** quantas vezes for necess√°rio.

. . .

Apenas lembre-se que a explica√ß√£o do Copilot pode estar errada. 

- A√≠ voc√™ pode pensar: ent√£o pra que ela serve?

. . .

Realmente pode ser frustrante.

- Mas na maioria dos c√≥digos, especialmente mais simples, as explica√ß√µes s√£o corretas.
- E, sem o Copilot, se voc√™ tivesse d√∫vidas e procurasse um amigo ou no Google, poderia obter respostas erradas tamb√©m.
    
##


::: {.callout-tip}
Uma maneira de diminuir a possibilidade de erro √© pedir a explica√ß√£o mais de uma vez.

√â bem raro que o Copilot explique errado mais de uma vez.
:::


##

Vamos usar outro exemplo de explica√ß√£o do Copilot.

- Suponha que voc√™ precise entender uma fun√ß√£o j√° existente em um projeto.

. . .

::: {.halfincfontsize}
```python
def clean_number(phone_number):
    phone_number = phone_number.replace("(", "")
    phone_number = phone_number.replace(")", "")
    phone_number = phone_number.replace("-", "")
    phone_number = phone_number.replace(" ", "")
    return phone_number
```
:::

. . .

Vamos ver a explica√ß√£o do Copilot em portugu√™s.

##

<div style="overflow:auto; text-align:center;">
  <img src="imagens/copilot_explicacao_clean_number.png" alt="Explica√ß√£o do Copilot sobre a fun√ß√£o clean_number." style="width:auto; max-width:100%;">
</div>

##

Veja que neste caso o Copilot fez uma explica√ß√£o e sugeriu uma melhoria.

- Antes de avaliar a sugest√£o de melhoria √© importante que voc√™ avalie
  se realmente entendeu a explica√ß√£o dada para o c√≥digo atual.

. . .

Por exemplo, se n√£o tiver ficado claro como o m√©todo `replace` funciona, voc√™ pode pedir uma explica√ß√£o mais detalhada sobre isso.

##

<div style="overflow:auto; text-align:center;">
  <img src="imagens/copilot_explicacao_clean_number_replace.png" alt="Explica√ß√£o do Copilot sobre o uso da fun√ß√£o replace na implementa√ß√£o da fun√ß√£o clean_number." style="width:auto; max-width:100%;">
</div>

##

Voc√™ pode continuar pedindo mais informa√ß√µes do Copilot at√© julgar que tem um n√≠vel de entendimento adequado para a tarefa que precisa.

- Lembre-se do que falamos no in√≠cio da aula
- N√£o √© necess√°rio entender cada detalhe do c√≥digo.
  - Mas temos que sair do est√°gio _‚ÄúEsse c√≥digo faz m√°gica‚Äù_.
  - Para conseguirmos depois validar o nosso c√≥digo.
  - E assim resolver a tarefa que precisamos.

##

Voltando na explica√ß√£o inicial dada pelo Copilot

- voc√™ alteraria seu c√≥digo para usar a solu√ß√£o _"mais limpa e eficiente"_, segundo ele, que usa o m√≥dulo `re`?

. . .

Que **crit√©rios** adotar para decidir aceitar ou n√£o a sugest√£o?

##

::: {.callout-tip}
Minha sugest√£o √©: use a op√ß√£o que voc√™ entenda melhor.

Voc√™ pode j√° ficar satisfeito com o c√≥digo original, ou pode pedir ao Copilot explica√ß√µes sobre a sugest√£o de melhoria.
E depois de ter entendido as duas op√ß√µes, escolher a que te parece melhor.
:::

::: {.nonincremental}
::: {.callout-tip}
√â melhor ter mais rapidamente uma vers√£o do sistema que funciona corretamente e depois otimiz√°-la, se necess√°rio,
do que tentar j√° otimizar c√≥digo antes mesmo de saber se ele vai atender o que precisa.

- Pode ser, por exemplo, que uma fun√ß√£o que voc√™ est√° otimizando agora acabe nem sendo usada mais adiante.
:::
:::

##

O livro que estamos usando como refer√™ncia, lista as **10 principais estruturas de programa√ß√£o do Python** que precisamos entender

- para conseguir acompanhar tudo que √© apresentado no livro.

. . .

Como voc√™ j√° fez disciplinas de programa√ß√£o, voc√™ deve ter um bom entendimento do que s√£o essas estruturas em si.

- Mas √© importante que consiga entend√™-las na sintaxe do Python.
- Se voc√™ j√° programa em Python √© bom revisar seu conhecimento.
- Se est√° come√ßando na linguagem agora √© uma boa hora de conhec√™-las.

## 10 principais estruturas de programa√ß√£o do Python

1. Fun√ß√µes
2. Vari√°veis
3. Condicionais
4. Strings
5. Listas
6. Loops
7. Indenta√ß√£o
8. Dicion√°rios
9. Arquivos
10. M√≥dulos




Dica para quem n√£o conhece Python

- Use o Copilot, CharGPT ou Gemini para uma sess√£o de conversa sobre isso.
- Indique seu n√≠vel de conhecimento pr√©vio de programa√ß√£o.
- Indique uma linguagem que voc√™ tenha mais familiaridade.
- Exemplo
    - Considere que sou estudante de Ci√™ncia da Computa√ß√£o. J√° fiz disciplinas introdut√≥rias de programa√ß√£o, mas tenho certa dificuldade dificuldade com conceitos de programa√ß√£o. Conhe√ßo razoavelmente a linguagem Java e agora gostaria de aprender Python. Poderia me guiar por uma sess√£o de conversa que apresente de forma did√°tica a linguagem Python comparando as constru√ß√µes com Java? Gostaria que a sess√£o fosse interativa, apresentando um conceito de cada vez.